<!DOCTYPE html>
<html>
<head>
<mata charset="UTF-8">
<title>SingleChoice</title>
<style type="text/css">
span {
	display: block;
}
</style>
</head>
<body>
<h2>选择题</h2>
<div id="sc1">
<span>1.世界上最长的河是什么河？</span>
<span><input type="radio" name="1" value="A" onclick="judge(this.name, this.value)">A.长江</span>
<span><input type="radio" name="1" value="B" onclick="judge(this.name, this.value)">B.黄河</span>
<span><input type="radio" name="1" value="C" onclick="judge(this.name, this.value)">C.尼罗河</span>
<span><input type="radio" name="1" value="D" onclick="judge(this.name, this.value)">D.亚马逊河</span>
</div>
<div id="sc2">
<span>2.世界上最高的山是什么山？</span>
<span><input type="radio" name="2" value="A" onclick="judge(this.name, this.value)">A.喜马拉雅山</span>
<span><input type="radio" name="2" value="B" onclick="judge(this.name, this.value)">B.黄山</span>
<span><input type="radio" name="2" value="C" onclick="judge(this.name, this.value)">C.泰山</span>
<span><input type="radio" name="2" value="D" onclick="judge(this.name, this.value)">D.天山</span>
</div>
<button onclick="judgeAnswer();">提交</button>
<script type="text/javascript">
function sleep(d){
  for(var t = Date.now();Date.now() - t <= d;);
}
function judge(ans_list){
	var answer_list = ["C","A"];
	if(ans_list.length === answer_list.length){
		for (var a=0; a<ans_list.length; a++){
			aname = (a+1).toString();
			if (ans_list[a] === answer_list[a]){		
				alert(`第${aname}题恭喜回答正确！`)
			}else{
				alert(`第${aname}题正确答案是${answer_list[a]}`);
			}
		sleep(500);
		}
	}
}
function ifOk(){
	return confirm("确认提交？")
}
function judgeAnswer(){
	var ok = ifOk();
	if(ok){
		var ans_list = [];
		var divList = document.querySelectorAll("div");
		for (var d=0; d<divList.length; d++){
			var inputList = divList[d].querySelectorAll("input");
			var ifChecked = false;
			for (var i=0; i<inputList.length;i++){
				if (inputList[i].checked){
					ans_list.push(inputList[i].value);
					ifChecked = true;
					break;
				}
			}
			if (!ifChecked){
				ans_list.push("");
			} 
		}
		// alert("提交成功！")
		console.log(ans_list);
		judge(ans_list);
	}
}
</script>
</body>
</html>